<!DOCTYPE html>
<html>
<head>
    <title>Profile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8"> 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='profile.css') }}">
</head>
<body>
    <nav>
        <form action="{{url_for('home')}}" method ="POST">
            <label class="logo"><a href="{{url_for('home')}}">Medico</a></label>
            <ul class="nav">
                <li><i class="fa fa-user" aria-hidden="true"></i><input type="submit" name="profile_button" value="Profile"></li>
                <li><i class="fa fa-address-book" aria-hidden="true"></i><input type="submit" name="bookappointment_button" value="Book Appointment"></li>
                <li><i class="fa fa-sign-out" aria-hidden="true"></i><input type="submit" name="logout_button" value="Logout"></li>
            </ul>
        </form>
        <div class="hamburger">
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </nav>
    <section>
        <p>Username &nbsp&nbsp&nbsp:&nbsp{{user.username}}</p>
        <p>Email &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:&nbsp{{user.email}}</p>
        <!--<p>Password &nbsp&nbsp&nbsp:&nbsp{{user.password}}</p>-->
        <p>Appoinments : {{data|length}}</p>
        <input type="button" class="button" value="Check Appointment" onclick="showappoint()"><br><br>
        <table id="apnttable" style="display: none;">
            <thead>
                <tr>
                    <th>Appontment ID</th>
                    <th>Appointment Date</th>
                    <th>Symptoms</th>
                </tr>
            </thead>
            <tbody>
                {% for r in data %}
                <tr>
                    <td>{{r["appoint_id"]}}</td>
                    <td>{{r["appoint_date"]}}</td>
                    <td>{{r["symptoms"]}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</body>
<script type="text/javascript">
            function showappoint(){
                var t = document.getElementById('apnttable') ;
                if (t.style.display === 'none') {
                    t.style.display = 'block' ;
                }
                else{
                    t.style.display = 'none' ;
                }
            }
            const navslide = () => {
            const hamburger = document.querySelector(".hamburger");
            const nav = document.querySelector(".nav");

            hamburger.addEventListener('click', () => {
                nav.classList.toggle("nav2");
             });
            }

        navslide();
</script>
</html>
